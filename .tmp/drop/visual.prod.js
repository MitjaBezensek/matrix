var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,i){void 0===t&&(t=[]);var r=t;return n(r),e&&(r.identityFields=e),i&&(r.source=i),r}function n(t,e){t.grouped=e?function(){return e}:function(){return i(t)}}function i(t){for(var e,n=[],i=0,r=t.length;r>i;i++){var a=t[i];if(!e||e.identity!==a.identity){if(e={values:[]},a.identity){e.identity=a.identity;var o=a.source;void 0!==o.groupName?e.name=o.groupName:o.displayName&&(e.name=o.displayName)}n.push(e)}e.values.push(a)}return n}t.createValueColumns=e,t.setGrouped=n,t.groupValues=i}(e=t.DataViewTransform||(t.DataViewTransform={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e){if(!t||!t.length)return-1;var n=t[0];if(n.values&&n.values.length>0)for(var r=0,a=n.values.length;a>r;++r){var o=n.values[r];if(o&&o.source&&i(o.source,e))return r}return-1}function n(t,e){if(t&&t.length)for(var n=0,r=t.length;r>n;n++)if(i(t[n].source,e))return n;return-1}function i(t,e){var n=t.roles;return n&&n[e]}function r(t,e){return null!=t&&null!=t.metadata&&t.metadata.columns&&t.metadata.columns.some(function(t){return t.roles&&void 0!==t.roles[e]})}function a(t,e){return t&&t.source&&t.source.roles&&t.source.roles[e]===!0}t.getMeasureIndexOfRole=e,t.getCategoryIndexOfRole=n,t.hasRole=i,t.hasRoleInDataView=r,t.hasRoleInValueColumn=a}(e=t.DataRoleHelper||(t.DataRoleHelper={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,n){if(!t)return n;var i=t[e];return void 0===i?n:i}function n(t,n,i){var r=e(t,n);return r&&r.solid?r.solid.color:i}t.getValue=e,t.getFillColorByPropertyName=n}(e=t.DataViewObject||(t.DataViewObject={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){function n(e,n,i){return e?t.DataViewObject.getValue(e[n.objectName],n.propertyName,i):i}function i(t,e,n){return t&&t[e]?t[e]:n}function r(t,e,i){var r=n(t,e);return r&&r.solid?r.solid.color:i}function a(t,e,i){var r=n(t,e,i);return r&&r.solid?r.solid.color:void 0===r||null===r||"object"==typeof r&&!r.solid?i:r}e.getValue=n,e.getObject=i,e.getFillColor=r,e.getCommonValue=a}(e=t.DataViewObjects||(t.DataViewObjects={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){var n,i=t.extensibility.utils.dataview.DataRoleHelper;!function(t){function e(t,e,n){if(t.categories&&t.categories.length>0){var r=t.categories[0];return r.source&&i.hasRole(r.source,e)&&i.hasRole(r.source,n)}return!1}function n(t){return void 0!==t.groupName?t.groupName:t.queryName}function r(t){var e=o(t);return null!=e&&e.imageUrl===!0}function a(t){var e=o(t);return null!=e&&e.webUrl===!0}function o(t){return t&&t.type&&t.type.misc}function u(t){return t&&t.metadata&&t.metadata.columns&&t.metadata.columns.length?t.metadata.columns.some(function(t){return r(t)===!0}):!1}t.categoryIsAlsoSeriesRole=e,t.getSeriesName=n,t.isImageUrlColumn=r,t.isWebUrlColumn=a,t.getMiscellaneousTypeDescriptor=o,t.hasImageUrlColumn=u}(n=e.converterHelper||(e.converterHelper={}))}(n=e.dataview||(e.dataview={}))}(n=e.utils||(e.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(){}return e.getDefault=function(){return new this},e.createPropertyIdentifier=function(t,e){return{objectName:t,propertyName:e}},e.parse=function(e){var n,i=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return i;n=i.getProperties();for(var r in n)for(var a in n[r]){var o=i[r][a];i[r][a]=t.DataViewObjects.getCommonValue(e.metadata.objects,n[r][a],o)}return i},e.isPropertyEnumerable=function(t){return!e.InnumerablePropertyPrefix.test(t)},e.enumerateObjectInstances=function(t,e){var n=t&&t[e.objectName];if(!n)return[];var i={objectName:e.objectName,selector:null,properties:{}};for(var r in n)n.hasOwnProperty(r)&&(i.properties[r]=n[r]);return{instances:[i]}},e.prototype.getProperties=function(){var t=this,n={},i=Object.keys(this);return i.forEach(function(i){if(e.isPropertyEnumerable(i)){var r=Object.keys(t[i]);n[i]={},r.forEach(function(t){e.isPropertyEnumerable(i)&&(n[i][t]=e.createPropertyIdentifier(i,t))})}}),n},e}();e.InnumerablePropertyPrefix=/^_/,t.DataViewObjectsParser=e}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),powerbi;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){"use strict";var n=t.extensibility.utils.dataview.DataViewObjectsParser,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataPoint=new r,e}return __extends(e,t),e}(n);e.VisualSettings=i;var r=function(){function t(){this.defaultColor="",this.showAllDataPoints=!0,this.fill="",this.fillRule="",this.fontSize=12}return t}();e.dataPointSettings=r}(n=e.matrix2A0EB71A32564F22A1A6759C09DE0BF6||(e.matrix2A0EB71A32564F22A1A6759C09DE0BF6={}))}(n=e.visual||(e.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){"use strict";var e=function(){function e(t){if(console.log("Visual constructor",t),this.target=t.element,this.updateCount=0,"undefined"!=typeof document){var e=document.createElement("p");e.appendChild(document.createTextNode("Update count:"));var n=document.createElement("em");this.textNode=document.createTextNode(this.updateCount.toString()),n.appendChild(this.textNode),e.appendChild(n),this.target.appendChild(e)}}return e.prototype.update=function(t){this.settings=e.parseSettings(t&&t.dataViews&&t.dataViews[0]),console.log("Visual update",t),"undefined"!=typeof this.textNode&&(this.textNode.textContent=(this.updateCount++).toString())},e.parseSettings=function(e){return t.VisualSettings.parse(e)},e.prototype.enumerateObjectInstances=function(e){return t.VisualSettings.enumerateObjectInstances(this.settings||t.VisualSettings.getDefault(),e)},e}();t.Visual=e}(e=t.matrix2A0EB71A32564F22A1A6759C09DE0BF6||(t.matrix2A0EB71A32564F22A1A6759C09DE0BF6={}))}(e=t.visual||(t.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var n;!function(e){e.matrix2A0EB71A32564F22A1A6759C09DE0BF6={name:"matrix2A0EB71A32564F22A1A6759C09DE0BF6",displayName:"matrix","class":"Visual",version:"1.0.0",apiVersion:"2.1.0",create:function(e){return new t.extensibility.visual.matrix2A0EB71A32564F22A1A6759C09DE0BF6.Visual(e)},custom:!0}}(n=e.plugins||(e.plugins={}))}(e=t.visuals||(t.visuals={}))}(powerbi||(powerbi={}));